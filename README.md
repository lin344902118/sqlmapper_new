# sqlmapper_new
this is a fork from sqlmapper
源地址：https://github.com/arthas29/sqlmapper
对于sqlmapper简单介绍
通过反射解析传入的结构体，然后根据结构体的字段构造sql语句。
适用于简单的增删改查等简单的sql操作。复杂操作请自己写sql语句。
由于源代码有些难用，做了一定修改。


新增对sql_mapper封装，只需要传入表名，数据库连接实例化MysqlBase，即可调用增删改查接口
2020-08-08
增加部分：
增加MysqlBase
MysqlBase增加AddInfo  通过结构体添加数据
MysqlBase增加PutInfoByPrimaryKey 通过结构体关键字修改数据
MysqlBase增加PutInfoByFieldNameInDB 通过结构体某个字段修改数据
MysqlBase增加DeleteInfoByPrimaryKey 通过结构体关键字删除数据
MysqlBase增加DeleteInfoByFieldNameInDB 通过结构体某个字段删除数据
MysqlBase增加GetInfoByPrimaryKey 通过结构体关键字查询数据
MysqlBase增加GetInfosByFieldNameInDB 通过结构体某个字段查询数据

增加部分：
增加getTagIndex，通过字段名称获取索引
增加SQLUpdateByFieldIndex，通过指定字段索引更新数据
增加SQLUpdateByFieldNameInDB，通过指定字段更新数据
增加SQLDeleteByFieldIndex，通过指定字段索引删除数据
增加SQLDeleteByFieldNameInDB，通过指定字段删除数据
删除部分：
取消所有context
修改部分：
修改insert，返回自增编号
修改SQLUpdateByPriKey，返回影响行数
修改SQLDeleteByPriKey，返回影响行数

如何使用见测试文件。
关于修改结构体部分字段而非全部字段的方法
建议在结构体中非必填字段标签加上omitempty
推荐使用2和3